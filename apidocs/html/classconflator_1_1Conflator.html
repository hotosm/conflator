<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>osm-merge: conflator.Conflator Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">osm-merge
   </div>
   <div id="projectbrief">Conflation for external datasets into OSM</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>conflator</b></li><li class="navelem"><a class="el" href="classconflator_1_1Conflator.html">Conflator</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="classconflator_1_1Conflator-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">conflator.Conflator Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Inheritance diagram for conflator.Conflator:</div>
<div class="dyncontent">
<div class="center"><img src="classconflator_1_1Conflator__inherit__graph.png" border="0" usemap="#aconflator_8Conflator_inherit__map" alt="Inheritance graph"/></div>
</div>
<div class="dynheader">
Collaboration diagram for conflator.Conflator:</div>
<div class="dyncontent">
<div class="center"><img src="classconflator_1_1Conflator__coll__graph.png" border="0" usemap="#aconflator_8Conflator_coll__map" alt="Collaboration graph"/></div>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a02621eaf15c995245e705109afa3e547"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classconflator_1_1Conflator.html#a02621eaf15c995245e705109afa3e547">__init__</a> (self, str uri=None, str boundary=None)</td></tr>
<tr class="separator:a02621eaf15c995245e705109afa3e547"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63975b116a7a96fbf68fb4f3e39e9fb8"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classconflator_1_1Conflator.html#a63975b116a7a96fbf68fb4f3e39e9fb8">getDistance</a> (self, Feature newdata, Feature olddata)</td></tr>
<tr class="separator:a63975b116a7a96fbf68fb4f3e39e9fb8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab96ea140a55623f80a11d0b540c433d8"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classconflator_1_1Conflator.html#ab96ea140a55623f80a11d0b540c433d8">checkTags</a> (self, Feature extfeat, Feature osm)</td></tr>
<tr class="separator:ab96ea140a55623f80a11d0b540c433d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8062055951381efab0e2ff80d11453ae"><td class="memItemLeft" align="right" valign="top">list&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classconflator_1_1Conflator.html#a8062055951381efab0e2ff80d11453ae">loadFile</a> (self, str osmfile)</td></tr>
<tr class="separator:a8062055951381efab0e2ff80d11453ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a56848d13e43c88b3920599d72527e0e7"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classconflator_1_1Conflator.html#a56848d13e43c88b3920599d72527e0e7">initInputDB</a> (self, str config=None, str dburi=None)</td></tr>
<tr class="separator:a56848d13e43c88b3920599d72527e0e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aafd631f208a88ddf9b870dd0577170a1"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classconflator_1_1Conflator.html#aafd631f208a88ddf9b870dd0577170a1">initOutputDB</a> (self, str dburi=None)</td></tr>
<tr class="separator:aafd631f208a88ddf9b870dd0577170a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa2b923ed04c29b5ba2fa645c49ad1c5f"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classconflator_1_1Conflator.html#aa2b923ed04c29b5ba2fa645c49ad1c5f">createDBThreads</a> (self, str uri=None, str config=None, int execs=cores)</td></tr>
<tr class="separator:aa2b923ed04c29b5ba2fa645c49ad1c5f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac2f89912aa330fdedafc25794b73555a"><td class="memItemLeft" align="right" valign="top">list&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classconflator_1_1Conflator.html#ac2f89912aa330fdedafc25794b73555a">conflateData</a> (self, str odkspec, str osmspec, float threshold=10.0)</td></tr>
<tr class="separator:ac2f89912aa330fdedafc25794b73555a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a382a5a6b81cda80d141e1b3baa7abc69"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classconflator_1_1Conflator.html#a382a5a6b81cda80d141e1b3baa7abc69">dump</a> (self)</td></tr>
<tr class="separator:a382a5a6b81cda80d141e1b3baa7abc69"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9fcbc0e03c78d8de22241639157f93e6"><td class="memItemLeft" align="right" valign="top"><a id="a9fcbc0e03c78d8de22241639157f93e6"></a>
list&#160;</td><td class="memItemRight" valign="bottom"><b>parseFile</b> (self, str filespec)</td></tr>
<tr class="separator:a9fcbc0e03c78d8de22241639157f93e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d380c58b3f4724caaae62c39d00594c"><td class="memItemLeft" align="right" valign="top">dict&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classconflator_1_1Conflator.html#a6d380c58b3f4724caaae62c39d00594c">conflateDB</a> (self, str source)</td></tr>
<tr class="separator:a6d380c58b3f4724caaae62c39d00594c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad2a18b320dc631cbaafc459fe49b2079"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classconflator_1_1Conflator.html#ad2a18b320dc631cbaafc459fe49b2079">writeOSM</a> (self, dict data, str filespec)</td></tr>
<tr class="separator:ad2a18b320dc631cbaafc459fe49b2079"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a80547a783e945f2fb751f1ce1ea39fff"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classconflator_1_1Conflator.html#a80547a783e945f2fb751f1ce1ea39fff">writeGeoJson</a> (self, dict data, str filespec)</td></tr>
<tr class="separator:a80547a783e945f2fb751f1ce1ea39fff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b8d5bfb790645114cf6cb715c06469c"><td class="memItemLeft" align="right" valign="top">Feature&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classconflator_1_1Conflator.html#a4b8d5bfb790645114cf6cb715c06469c">osmToFeature</a> (self, dict() osm)</td></tr>
<tr class="separator:a4b8d5bfb790645114cf6cb715c06469c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a215638e5a0f7d7d0172ebb25df1e0d26"><td class="memItemLeft" align="right" valign="top"><a id="a215638e5a0f7d7d0172ebb25df1e0d26"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>postgres</b></td></tr>
<tr class="separator:a215638e5a0f7d7d0172ebb25df1e0d26"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:addc649dda7ba3b9e010a837defc73fc7"><td class="memItemLeft" align="right" valign="top"><a id="addc649dda7ba3b9e010a837defc73fc7"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>tags</b></td></tr>
<tr class="separator:addc649dda7ba3b9e010a837defc73fc7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a805fd7df8efe2538beab79b8ce925076"><td class="memItemLeft" align="right" valign="top"><a id="a805fd7df8efe2538beab79b8ce925076"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>boundary</b></td></tr>
<tr class="separator:a805fd7df8efe2538beab79b8ce925076"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8090d7e1ff30caef21392e687cc5084e"><td class="memItemLeft" align="right" valign="top"><a id="a8090d7e1ff30caef21392e687cc5084e"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>dburi</b></td></tr>
<tr class="separator:a8090d7e1ff30caef21392e687cc5084e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e76c2ab79377780b8114959d883950b"><td class="memItemLeft" align="right" valign="top"><a id="a2e76c2ab79377780b8114959d883950b"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>primary</b></td></tr>
<tr class="separator:a2e76c2ab79377780b8114959d883950b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a975ca8ada96d5b6708d41cd0bbff1dc2"><td class="memItemLeft" align="right" valign="top"><a id="a975ca8ada96d5b6708d41cd0bbff1dc2"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>tolerance</b></td></tr>
<tr class="separator:a975ca8ada96d5b6708d41cd0bbff1dc2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8545583053ad18f75fc1deb8200ac380"><td class="memItemLeft" align="right" valign="top"><a id="a8545583053ad18f75fc1deb8200ac380"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>data</b></td></tr>
<tr class="separator:a8545583053ad18f75fc1deb8200ac380"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b617f3694f08c8eb9e49d6f27d0ff54"><td class="memItemLeft" align="right" valign="top"><a id="a3b617f3694f08c8eb9e49d6f27d0ff54"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>analyze</b></td></tr>
<tr class="separator:a3b617f3694f08c8eb9e49d6f27d0ff54"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock">
<p class="definition">Definition at line <a class="el" href="conflator_8py_source.html#l00213">213</a> of file <a class="el" href="conflator_8py_source.html">conflator.py</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a02621eaf15c995245e705109afa3e547"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a02621eaf15c995245e705109afa3e547">&#9670;&nbsp;</a></span>__init__()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def conflator.Conflator.__init__ </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">str &#160;</td>
          <td class="paramname"><em>uri</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">str &#160;</td>
          <td class="paramname"><em>boundary</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Initialize Input data sources.

Args:
    uri (str): URI for the primary database
    boundary (str, optional): Boundary to limit SQL queries

Returns:
    (Conflator): An instance of this object
</pre> 
<p class="definition">Definition at line <a class="el" href="conflator_8py_source.html#l00214">214</a> of file <a class="el" href="conflator_8py_source.html">conflator.py</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ab96ea140a55623f80a11d0b540c433d8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab96ea140a55623f80a11d0b540c433d8">&#9670;&nbsp;</a></span>checkTags()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def conflator.Conflator.checkTags </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Feature&#160;</td>
          <td class="paramname"><em>extfeat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Feature&#160;</td>
          <td class="paramname"><em>osm</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Check tags between 2 features.

Args:
    extfeat (Feature): The feature from the external dataset
    osm (Feature): The result of the SQL query

Returns:
    (int): The number of tag matches
    (dict): The updated tags
</pre> 
<p class="definition">Definition at line <a class="el" href="conflator_8py_source.html#l00289">289</a> of file <a class="el" href="conflator_8py_source.html">conflator.py</a>.</p>

</div>
</div>
<a id="ac2f89912aa330fdedafc25794b73555a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac2f89912aa330fdedafc25794b73555a">&#9670;&nbsp;</a></span>conflateData()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> list conflator.Conflator.conflateData </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">str&#160;</td>
          <td class="paramname"><em>odkspec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">str&#160;</td>
          <td class="paramname"><em>osmspec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float &#160;</td>
          <td class="paramname"><em>threshold</em> = <code>10.0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Open the two source files and contlate them.

Args:
    odkspec (str): The external data uri
    osmspec (str): The existing OSM data uri
    threshold (float): Threshold for distance calculations in meters

Returns:
    (list):  The conflated output
</pre> 
<p class="definition">Definition at line <a class="el" href="conflator_8py_source.html#l00533">533</a> of file <a class="el" href="conflator_8py_source.html">conflator.py</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classconflator_1_1Conflator_ac2f89912aa330fdedafc25794b73555a_cgraph.png" border="0" usemap="#aclassconflator_1_1Conflator_ac2f89912aa330fdedafc25794b73555a_cgraph" alt=""/></div>
</div>

</div>
</div>
<a id="a6d380c58b3f4724caaae62c39d00594c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6d380c58b3f4724caaae62c39d00594c">&#9670;&nbsp;</a></span>conflateDB()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> dict conflator.Conflator.conflateDB </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">str&#160;</td>
          <td class="paramname"><em>source</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Conflate all the data. This the primary interfacte for conflation.

Args:
    source (str): The source file to conflate

Returns:
    (dict):  The conflated features
</pre> 
<p class="definition">Definition at line <a class="el" href="conflator_8py_source.html#l00640">640</a> of file <a class="el" href="conflator_8py_source.html">conflator.py</a>.</p>

</div>
</div>
<a id="aa2b923ed04c29b5ba2fa645c49ad1c5f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa2b923ed04c29b5ba2fa645c49ad1c5f">&#9670;&nbsp;</a></span>createDBThreads()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> bool conflator.Conflator.createDBThreads </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">str &#160;</td>
          <td class="paramname"><em>uri</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">str &#160;</td>
          <td class="paramname"><em>config</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &#160;</td>
          <td class="paramname"><em>execs</em> = <code>cores</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Create threads for writting to the primary datatbase to avoid
problems with corrupting data.

Args:
    uri (str): URI for the primary database
    config (str, optional): The config file from the osm-rawdata project
    threads (int, optional): The number of threads to create

Returns:
    (bool): Whether the threads were created sucessfully
</pre> 
<p class="definition">Definition at line <a class="el" href="conflator_8py_source.html#l00495">495</a> of file <a class="el" href="conflator_8py_source.html">conflator.py</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classconflator_1_1Conflator_aa2b923ed04c29b5ba2fa645c49ad1c5f_icgraph.png" border="0" usemap="#aclassconflator_1_1Conflator_aa2b923ed04c29b5ba2fa645c49ad1c5f_icgraph" alt=""/></div>
</div>

</div>
</div>
<a id="a382a5a6b81cda80d141e1b3baa7abc69"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a382a5a6b81cda80d141e1b3baa7abc69">&#9670;&nbsp;</a></span>dump()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def conflator.Conflator.dump </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Dump internal data</pre> 
<p class="definition">Definition at line <a class="el" href="conflator_8py_source.html#l00604">604</a> of file <a class="el" href="conflator_8py_source.html">conflator.py</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classconflator_1_1Conflator_a382a5a6b81cda80d141e1b3baa7abc69_cgraph.png" border="0" usemap="#aclassconflator_1_1Conflator_a382a5a6b81cda80d141e1b3baa7abc69_cgraph" alt=""/></div>
</div>

</div>
</div>
<a id="a63975b116a7a96fbf68fb4f3e39e9fb8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a63975b116a7a96fbf68fb4f3e39e9fb8">&#9670;&nbsp;</a></span>getDistance()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> float conflator.Conflator.getDistance </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Feature&#160;</td>
          <td class="paramname"><em>newdata</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Feature&#160;</td>
          <td class="paramname"><em>olddata</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Compute the distance between two features in meters

Args:
    newdata (Feature): A feature from the external dataset
    olddata (Feature): A feature from the existing OSM dataset

Returns:
    (float): The distance between the two features
</pre> 
<p class="definition">Definition at line <a class="el" href="conflator_8py_source.html#l00242">242</a> of file <a class="el" href="conflator_8py_source.html">conflator.py</a>.</p>

</div>
</div>
<a id="a56848d13e43c88b3920599d72527e0e7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a56848d13e43c88b3920599d72527e0e7">&#9670;&nbsp;</a></span>initInputDB()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> bool conflator.Conflator.initInputDB </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">str &#160;</td>
          <td class="paramname"><em>config</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">str &#160;</td>
          <td class="paramname"><em>dburi</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">When async, we can't initialize the async database connection,
so it has to be done as an extrat step.

Args:
    dburi (str, optional): The database URI
    config (str, optional): The config file from the osm-rawdata project
Returns:
    (bool): Whether it initialiized
</pre> 
<p class="definition">Definition at line <a class="el" href="conflator_8py_source.html#l00458">458</a> of file <a class="el" href="conflator_8py_source.html">conflator.py</a>.</p>

</div>
</div>
<a id="aafd631f208a88ddf9b870dd0577170a1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aafd631f208a88ddf9b870dd0577170a1">&#9670;&nbsp;</a></span>initOutputDB()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def conflator.Conflator.initOutputDB </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">str &#160;</td>
          <td class="paramname"><em>dburi</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">When async, we can't initialize the async database connection,
so it has to be done as an extrat step.

Args:
    dburi (str, optional): The database URI
    config (str, optional): The config file from the osm-rawdata project
</pre> 
<p class="definition">Definition at line <a class="el" href="conflator_8py_source.html#l00478">478</a> of file <a class="el" href="conflator_8py_source.html">conflator.py</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classconflator_1_1Conflator_aafd631f208a88ddf9b870dd0577170a1_cgraph.png" border="0" usemap="#aclassconflator_1_1Conflator_aafd631f208a88ddf9b870dd0577170a1_cgraph" alt=""/></div>
</div>

</div>
</div>
<a id="a8062055951381efab0e2ff80d11453ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8062055951381efab0e2ff80d11453ae">&#9670;&nbsp;</a></span>loadFile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> list conflator.Conflator.loadFile </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">str&#160;</td>
          <td class="paramname"><em>osmfile</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Read a OSM XML file generated by osm_fieldwork and convert
it to GeoJson for consistency.

Args:
    osmfile (str): The OSM XML file to load

Returns:
    (list): The entries in the OSM XML file
</pre> 
<p class="definition">Definition at line <a class="el" href="conflator_8py_source.html#l00368">368</a> of file <a class="el" href="conflator_8py_source.html">conflator.py</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classconflator_1_1Conflator_a8062055951381efab0e2ff80d11453ae_icgraph.png" border="0" usemap="#aclassconflator_1_1Conflator_a8062055951381efab0e2ff80d11453ae_icgraph" alt=""/></div>
</div>

</div>
</div>
<a id="a4b8d5bfb790645114cf6cb715c06469c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4b8d5bfb790645114cf6cb715c06469c">&#9670;&nbsp;</a></span>osmToFeature()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> Feature conflator.Conflator.osmToFeature </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">dict()&#160;</td>
          <td class="paramname"><em>osm</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Convert an entry from an OSM XML file with attrs and tags into
a GeoJson Feature.

Args:
    osm (dict): The OSM entry

Returns:
    (Feature): A GeoJson feature
</pre> 
<p class="definition">Definition at line <a class="el" href="conflator_8py_source.html#l00774">774</a> of file <a class="el" href="conflator_8py_source.html">conflator.py</a>.</p>

</div>
</div>
<a id="a80547a783e945f2fb751f1ce1ea39fff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a80547a783e945f2fb751f1ce1ea39fff">&#9670;&nbsp;</a></span>writeGeoJson()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def conflator.Conflator.writeGeoJson </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">dict&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">str&#160;</td>
          <td class="paramname"><em>filespec</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Write the data to a GeoJson file.

Args:
    data (dict): The list of GeoJson features
    filespec (str): The output file name
</pre> 
<p class="definition">Definition at line <a class="el" href="conflator_8py_source.html#l00759">759</a> of file <a class="el" href="conflator_8py_source.html">conflator.py</a>.</p>

</div>
</div>
<a id="ad2a18b320dc631cbaafc459fe49b2079"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad2a18b320dc631cbaafc459fe49b2079">&#9670;&nbsp;</a></span>writeOSM()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def conflator.Conflator.writeOSM </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">dict&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">str&#160;</td>
          <td class="paramname"><em>filespec</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Write the data to an OSM XML file.

Args:
    data (dict): The list of GeoJson features
    filespec (str): The output file name
</pre> 
<p class="definition">Definition at line <a class="el" href="conflator_8py_source.html#l00711">711</a> of file <a class="el" href="conflator_8py_source.html">conflator.py</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/home/runner/work/osm-merge/osm-merge/osm_merge/<a class="el" href="conflator_8py_source.html">conflator.py</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
